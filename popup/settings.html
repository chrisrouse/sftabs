<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>SF Tabs - Settings</title>
	<link rel="stylesheet" href="popup.css">
	<style>
		/* Settings page specific styles */
		body.settings-page {
			min-height: 100vh;
			height: auto;
			overflow-y: auto;
			background-color: var(--color-background);
			padding: 24px;
			width: auto;
			max-width: 800px;
			margin: 0 auto;
		}

		.settings-container {
			width: 100%;
			box-sizing: border-box;
		}

		.settings-container h1 {
			font-size: 24px;
			font-weight: 600;
			margin: 0 0 8px 0;
			color: var(--color-text);
			text-align: center;
		}

		.settings-container .subtitle {
			font-size: 14px;
			color: var(--color-text-weak);
			margin: 0 0 8px 0;
			text-align: center;
		}

		.settings-container .version-info {
			font-size: 12px;
			color: var(--color-text-weak);
			margin: 0 0 24px 0;
			text-align: center;
		}

		.settings-container .version-info a {
			color: var(--slds-brand-primary);
			text-decoration: none;
		}

		.settings-container .version-info a:hover {
			text-decoration: underline;
		}

		/* Grid layout for settings sections */
		.settings-grid {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 20px;
			margin-bottom: 20px;
		}

		/* Full-width sections */
		.settings-section.full-width {
			grid-column: 1 / -1;
		}

		.settings-section {
			background: var(--color-item-background);
			border: 1px solid var(--color-border);
			border-radius: 8px;
			padding: 20px;
		}

		.settings-section h2 {
			font-size: 16px;
			font-weight: 600;
			margin: 0 0 16px 0;
			color: var(--color-text);
			display: flex;
			align-items: center;
			gap: 8px;
		}

		.settings-section h2 svg {
			width: 18px;
			height: 18px;
			stroke: var(--color-text);
			fill: none;
		}

		.settings-section .section-description {
			font-size: 13px;
			color: var(--color-text-weak);
			margin: -8px 0 16px 0;
			line-height: 1.5;
		}

		.setting-item {
			margin-bottom: 20px;
		}

		.setting-item:last-child {
			margin-bottom: 0;
		}

		.setting-label {
			font-size: 14px;
			font-weight: 500;
			color: var(--color-text);
			margin-bottom: 8px;
			display: block;
		}

		.setting-description {
			font-size: 12px;
			color: var(--color-text-weak);
			margin-top: 6px;
			line-height: 1.4;
		}

		/* Import/Export section */
		.config-actions {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 12px;
			margin-top: 16px;
		}

		.config-action-button {
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			padding: 20px;
			background: var(--color-background);
			border: 2px solid var(--color-border);
			border-radius: 8px;
			cursor: pointer;
			transition: all 0.2s;
			text-align: center;
		}

		.config-action-button:hover {
			border-color: var(--slds-brand-primary);
			background: var(--color-input-background);
		}

		.config-action-button svg {
			width: 32px;
			height: 32px;
			stroke: var(--slds-brand-primary);
			fill: none;
			margin-bottom: 8px;
		}

		.config-action-button .action-title {
			font-size: 14px;
			font-weight: 600;
			color: var(--color-text);
			margin-bottom: 4px;
		}

		.config-action-button .action-description {
			font-size: 12px;
			color: var(--color-text-weak);
		}

		/* Danger zone */
		.danger-zone {
			border-color: var(--slds-color-error);
			background: var(--color-item-background);
		}

		.danger-zone h2 {
			color: var(--slds-color-error);
		}

		.danger-zone h2 svg {
			stroke: var(--slds-color-error);
		}

		/* Status message */
		#status-message {
			position: fixed;
			bottom: 20px;
			right: 20px;
			padding: 12px 20px;
			background: var(--color-item-background);
			border: 1px solid var(--color-border);
			border-radius: 8px;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
			font-size: 13px;
			z-index: 1000;
			display: none;
			max-width: 300px;
		}

		#status-message.success {
			border-color: var(--slds-color-success);
			color: var(--slds-color-success);
		}

		#status-message.error {
			border-color: var(--slds-color-error);
			color: var(--slds-color-error);
		}

		/* Action button style override for settings page */
		.settings-section .action-button {
			width: 100%;
			justify-content: center;
		}

		/* Modal enhancements - card-like design */
		.modal {
			animation: modalFadeIn 0.15s ease-out;
		}

		@keyframes modalFadeIn {
			from { opacity: 0; }
			to { opacity: 1; }
		}

		.modal-content {
			background: var(--color-item-background);
			border: 1px solid var(--color-border);
			border-radius: 8px;
			padding: 16px;
			max-width: 460px;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
			animation: modalSlideIn 0.2s ease-out;
		}

		@keyframes modalSlideIn {
			from {
				transform: scale(0.97);
				opacity: 0;
			}
			to {
				transform: scale(1);
				opacity: 1;
			}
		}

		.modal-header {
			margin-bottom: 12px;
			background: none !important;
			background-color: transparent !important;
			border: none !important;
			padding: 0;
		}

		.modal-header h2 {
			font-size: 16px;
			font-weight: 600;
			margin: 0;
			color: var(--color-text) !important;
		}

		.modal-body {
			font-size: 14px;
			line-height: 1.4;
			color: var(--color-text);
		}

		.modal-body > p:first-child {
			font-size: 13px;
			color: var(--color-text-weak);
			margin: 0 0 12px 0;
			line-height: 1.3;
		}

		.modal-body .form-group {
			margin-bottom: 0;
		}

		.modal-body label {
			font-size: 14px;
			cursor: pointer;
			transition: background-color 0.15s;
		}

		.modal-body .setting-description {
			font-size: 12px;
			line-height: 1.4;
			margin-top: 4px;
			color: var(--color-text-weak);
		}

		.modal-footer {
			margin-top: 16px;
			gap: 8px;
			display: flex;
			justify-content: flex-end;
		}

		.modal-footer button {
			min-width: 80px;
		}

		/* Export profiles list scrolling */
		#export-profiles-list {
			max-height: 300px;
			overflow-y: auto;
			padding-right: 8px;
		}

		/* Scrollbar styling for profile list */
		#export-profiles-list::-webkit-scrollbar {
			width: 8px;
		}

		#export-profiles-list::-webkit-scrollbar-track {
			background: var(--color-background);
			border-radius: 4px;
		}

		#export-profiles-list::-webkit-scrollbar-thumb {
			background: var(--color-border);
			border-radius: 4px;
		}

		#export-profiles-list::-webkit-scrollbar-thumb:hover {
			background: var(--color-text-weak);
		}

		/* Import modal specific */
		#import-target-modal .modal-body label {
			font-size: 14px;
			font-weight: 500;
			margin-bottom: 8px;
			display: flex;
			align-items: center;
			gap: 8px;
			padding: 6px 8px;
			border-radius: 4px;
			transition: background-color 0.15s;
		}

		#import-target-modal .modal-body label:hover {
			background-color: var(--color-background);
		}

		#import-target-modal .modal-body input[type="radio"] {
			width: 16px;
			height: 16px;
			margin: 0;
			cursor: pointer;
		}

		#import-target-modal .modal-body label span {
			user-select: none;
		}

		#import-target-modal .sub-option {
			margin-left: 24px;
			margin-top: 8px;
			padding-left: 12px;
			border-left: 2px solid var(--color-border);
		}

		#import-target-modal .sub-option label {
			font-size: 13px;
			font-weight: normal;
			margin-bottom: 4px;
			padding: 4px 8px;
		}

		#import-target-modal select,
		#import-target-modal input[type="text"] {
			width: 100%;
			font-size: 14px;
			padding: 8px 10px;
			margin-top: 4px;
			border: 1px solid var(--color-border);
			border-radius: 4px;
			background: var(--color-background);
			color: var(--color-text);
			transition: border-color 0.15s;
		}

		#import-target-modal select:focus,
		#import-target-modal input[type="text"]:focus {
			outline: none;
			border-color: var(--slds-brand-primary);
		}

		/* Import options checkboxes */
		#import-options-section .checkbox-group {
			font-size: 14px;
			margin-bottom: 4px;
			display: flex;
			align-items: center;
			gap: 8px;
			padding: 6px 4px;
			border-radius: 4px;
			transition: background-color 0.15s;
		}

		#import-options-section .checkbox-group:hover {
			background-color: var(--color-background);
		}

		#import-options-section .checkbox-group input[type="checkbox"] {
			width: 16px;
			height: 16px;
			margin: 0;
			cursor: pointer;
		}

		#import-destination-section {
			border-top: 1px solid var(--color-border);
			padding-top: 12px;
		}

		/* Export modal specific */
		#export-options-modal .checkbox-group {
			font-size: 14px;
			margin-bottom: 4px;
			display: flex;
			align-items: center;
			gap: 8px;
			padding: 6px 4px;
			border-radius: 4px;
			transition: background-color 0.15s;
		}

		#export-options-modal .checkbox-group:hover:not(:has(input:disabled)) {
			background-color: var(--color-background);
		}

		#export-options-modal .checkbox-group span {
			font-size: 14px;
			line-height: 1.3;
			user-select: none;
		}

		#export-options-modal .checkbox-group input[type="checkbox"] {
			width: 16px;
			height: 16px;
			margin: 0;
			flex-shrink: 0;
			cursor: pointer;
		}

		#export-options-modal .checkbox-group input[type="checkbox"]:disabled {
			cursor: not-allowed;
			opacity: 0.5;
		}

		/* Everything checkbox - make it bold */
		#export-options-modal .modal-body > .form-group > .checkbox-group:first-of-type {
			font-weight: 600;
			margin-bottom: 8px;
		}

		/* Hide description text */
		#export-options-modal .setting-description {
			display: none;
		}

		/* Remove indentation and borders */
		#export-options-modal .modal-body > .form-group > div:last-child {
			margin-left: 0;
			padding-left: 0;
			border-left: none;
		}

		/* Separator line before profiles */
		#export-options-modal #export-profiles-list {
			margin-top: 8px;
			padding-top: 8px;
			border-top: 1px solid var(--color-border);
		}

		/* Reset modal specific */
		#reset-modal .modal-body ul {
			margin: 8px 0 12px 0;
			padding-left: 20px;
			line-height: 1.5;
		}

		#reset-modal .modal-body ul li {
			margin-bottom: 4px;
			font-size: 13px;
			color: var(--color-text);
		}

		#reset-modal .modal-body p {
			font-size: 13px;
			margin: 0;
		}

		#reset-modal .modal-body strong {
			color: var(--slds-color-error);
			font-weight: 600;
		}

		/* Disable profiles modal specific */
		#disable-profiles-modal .modal-content {
			width: 350px;
		}
	</style>
</head>

<body class="settings-page">
	<div class="settings-container">
		<h1>SF Tabs Settings</h1>
		<p class="subtitle">Customize your SF Tabs experience</p>
		<p class="version-info">SF Tabs v2.0.0 | <a href="#" id="changelog-link">Changelog</a></p>

		<div class="settings-grid">
			<!-- Appearance Section -->
			<section class="settings-section">
			<h2>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
				</svg>
				Appearance
			</h2>
			<p class="section-description">Customize the look and feel of your extension</p>

			<div class="setting-item">
				<label class="setting-label">Theme Mode</label>
				<div class="theme-selector">
					<!-- Light Theme Option -->
					<div class="theme-option light" data-theme-value="light">
						<div class="theme-icon-container">
							<svg class="theme-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
								<circle cx="12" cy="12" r="5"></circle>
								<line x1="12" y1="1" x2="12" y2="3"></line>
								<line x1="12" y1="21" x2="12" y2="23"></line>
								<line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
								<line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
								<line x1="1" y1="12" x2="3" y2="12"></line>
								<line x1="21" y1="12" x2="23" y2="12"></line>
								<line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
								<line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
							</svg>
						</div>
						<span class="theme-label">Light</span>
					</div>

					<!-- Dark Theme Option -->
					<div class="theme-option dark" data-theme-value="dark">
						<div class="theme-icon-container">
							<svg class="theme-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
								<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
							</svg>
						</div>
						<span class="theme-label">Dark</span>
					</div>

					<!-- System Theme Option -->
					<div class="theme-option system" data-theme-value="system">
						<div class="theme-icon-container">
							<svg class="theme-icon light-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
								<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
								<line x1="8" y1="21" x2="16" y2="21"></line>
								<line x1="12" y1="17" x2="12" y2="21"></line>
							</svg>
							<svg class="theme-icon dark-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
								<rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
								<line x1="8" y1="21" x2="16" y2="21"></line>
								<line x1="12" y1="17" x2="12" y2="21"></line>
							</svg>
						</div>
						<span class="theme-label">System</span>
					</div>
				</div>
				<div class="setting-description">Choose between light mode, dark mode, or automatic based on your system preferences</div>
			</div>

			<div class="setting-item">
				<label class="checkbox-group">
					<input type="checkbox" id="compact-mode">
					<span>Compact Mode</span>
				</label>
				<div class="setting-description">Condenses tabs by hiding URLs to show more tabs at once</div>
			</div>
		</section>

		<!-- Behavior Section -->
		<section class="settings-section">
			<h2>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
				</svg>
				Behavior
			</h2>
			<p class="section-description">Control how the extension behaves</p>

			<div class="setting-item">
				<label class="checkbox-group">
					<input type="checkbox" id="skip-delete-confirmation">
					<span>Don't prompt when deleting</span>
				</label>
				<div class="setting-description">Skip confirmation dialogs when removing tabs</div>
			</div>
		</section>

		<!-- Sync & Storage Section -->
		<section class="settings-section">
			<h2>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<polyline points="23 4 23 10 17 10"></polyline>
					<path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
				</svg>
				Sync & Storage
			</h2>
			<p class="section-description">Manage how your tabs are stored and synced</p>

			<div class="setting-item">
				<label class="checkbox-group">
					<input type="checkbox" id="use-sync-storage" checked>
					<span>Enable cross-device sync (recommended)</span>
				</label>
				<div class="setting-description">Automatically sync your tabs across all your computers using browser sync. Disable this to store tabs locally on this computer only.</div>
			</div>
		</section>

		<!-- Profiles Section -->
		<section class="settings-section">
			<h2>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
					<circle cx="9" cy="7" r="4"></circle>
					<path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
					<path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
				</svg>
				Profiles
			</h2>
			<p class="section-description">Create multiple profiles with different tab sets for different Salesforce orgs or responsibilities</p>

			<div class="setting-item">
				<label class="checkbox-group">
					<input type="checkbox" id="enable-profiles">
					<span>Enable Profiles</span>
				</label>
				<div class="setting-description">Create and manage multiple profiles with different tab configurations</div>
			</div>

			<div class="setting-item" id="auto-switch-container" style="display: none;">
				<label class="checkbox-group">
					<input type="checkbox" id="auto-switch-profiles">
					<span>Auto-Switch Profiles</span>
				</label>
				<div class="setting-description">Automatically switch to the appropriate profile based on the current Salesforce org's URL</div>
			</div>
		</section>

		<!-- Floating Button Section -->
		<section class="settings-section full-width">
			<h2>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<circle cx="12" cy="12" r="10"></circle>
					<line x1="12" y1="8" x2="12" y2="12"></line>
					<line x1="12" y1="16" x2="12.01" y2="16"></line>
				</svg>
				Floating Button
			</h2>
			<p class="section-description">Access SF Tabs from anywhere in Salesforce with a floating button</p>

			<div class="setting-item">
				<label class="checkbox-group">
					<input type="checkbox" id="floating-button-enabled">
					<span>Enable floating button</span>
				</label>
				<div class="setting-description">Show a floating button on Salesforce pages for quick tab access</div>
			</div>

			<div id="floating-button-settings" style="display: none;">
				<div class="setting-item">
					<label class="setting-label">Display Mode</label>
					<select id="floating-button-display-mode" class="select-input" style="width: 100%; padding: 8px 10px; border: 1px solid var(--color-border); border-radius: 4px; background: var(--color-input-background); color: var(--color-text);">
						<option value="both">Both Setup tabs and floating button</option>
						<option value="setup-only">Setup tabs only (no floating button)</option>
						<option value="floating-only">Floating button only</option>
					</select>
					<div class="setting-description">Choose how SF Tabs appears in Salesforce</div>
				</div>

				<div class="setting-item">
					<label class="setting-label">Vertical Position (%)</label>
					<div style="display: flex; align-items: center; gap: 12px;">
						<input type="range" id="floating-button-position" min="0" max="100" value="25" step="1" style="flex: 1;">
						<span id="floating-button-position-value" style="min-width: 45px; text-align: right; font-weight: 500; color: var(--color-text);">25%</span>
					</div>
					<div class="setting-description">Vertical position along the right edge (0% = top, 100% = bottom)</div>
				</div>
			</div>
		</section>

		<!-- Keyboard Shortcuts Section -->
		<section class="settings-section full-width">
			<h2>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>
				</svg>
				Keyboard Shortcuts
			</h2>
			<p class="section-description">Set up keyboard shortcuts to quickly access your tabs</p>

			<div class="setting-item">
				<button id="keyboard-shortcuts-button" class="action-button">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>
					</svg>
					<span>Configure Keyboard Shortcuts</span>
				</button>
				<div class="setting-description">Set keyboard shortcuts to quickly open tabs 1-10 by position</div>
			</div>
		</section>

		<!-- Import/Export Section -->
		<section class="settings-section full-width">
			<h2>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
					<polyline points="7 10 12 15 17 10"></polyline>
					<line x1="12" y1="15" x2="12" y2="3"></line>
				</svg>
				Import & Export
			</h2>
			<p class="section-description">Backup and restore your tabs and settings</p>

			<div class="config-actions">
				<button class="config-action-button" id="export-button">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
						<polyline points="17 8 12 3 7 8"></polyline>
						<line x1="12" y1="3" x2="12" y2="15"></line>
					</svg>
					<div class="action-title">Export</div>
					<div class="action-description">Save your configuration</div>
				</button>

				<button class="config-action-button" id="import-button">
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
						<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
						<polyline points="7 10 12 15 17 10"></polyline>
						<line x1="12" y1="15" x2="12" y2="3"></line>
					</svg>
					<div class="action-title">Import</div>
					<div class="action-description">Restore from backup</div>
				</button>
			</div>
			<input type="file" id="import-file-input" accept=".json" style="display: none;">
		</section>

		<!-- Danger Zone Section -->
		<section class="settings-section danger-zone full-width">
			<h2>
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
					<line x1="12" y1="9" x2="12" y2="13"></line>
					<line x1="12" y1="17" x2="12.01" y2="17"></line>
				</svg>
				Danger Zone
			</h2>
			<p class="section-description">Irreversible actions that will affect your data</p>

			<div class="setting-item">
				<button id="reset-button" class="secondary-button reset-button" style="width: 100%;">Reset to Defaults</button>
				<div class="setting-description">This will remove all custom tabs and reset all settings to their default values. This action cannot be undone.</div>
			</div>
		</section>
		</div> <!-- End settings-grid -->
	</div>

	<!-- Status Message -->
	<div id="status-message"></div>

	<!-- Import Target Modal -->
	<div id="import-target-modal" class="modal" style="display: none;">
		<div class="modal-content">
			<div class="modal-header">
				<h2>Import Configuration</h2>
			</div>
			<div class="modal-body">
				<p>Choose what to import:</p>

				<div class="form-group" id="import-options-section" style="margin-bottom: 16px;">
					<label class="checkbox-group">
						<input type="checkbox" id="import-tabs" checked>
						<span>Tabs</span>
					</label>
					<label class="checkbox-group">
						<input type="checkbox" id="import-settings">
						<span>Settings</span>
					</label>
				</div>

				<div id="import-destination-section">
					<p style="margin-top: 0;">Choose destination:</p>

					<div class="form-group">
						<label>
							<input type="radio" name="import-option" value="overwrite" checked>
							<span>Overwrite existing profile</span>
						</label>
						<div id="overwrite-profile-section" class="sub-option">
							<label for="import-profile-select">Select profile:</label>
							<select id="import-profile-select" class="clone-profile-select">
								<option value="">Choose a profile...</option>
							</select>
						</div>
					</div>

					<div class="form-group">
						<label>
							<input type="radio" name="import-option" value="new">
							<span>Create new profile</span>
						</label>
						<div id="new-profile-section" class="sub-option" style="display: none;">
							<label for="new-profile-name">Profile name:</label>
							<input type="text" id="new-profile-name" placeholder="Enter profile name" maxlength="50" class="text-input">
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button id="import-modal-cancel" class="secondary-button">Cancel</button>
				<button id="import-modal-confirm" class="primary-button">Import</button>
			</div>
		</div>
	</div>

	<!-- Export Options Modal -->
	<div id="export-options-modal" class="modal" style="display: none;">
		<div class="modal-content">
			<div class="modal-header">
				<h2>Export Configuration</h2>
			</div>
			<div class="modal-body">
				<p>Select what you want to export:</p>

				<div class="form-group">
					<label class="checkbox-group">
						<input type="checkbox" id="export-everything" checked>
						<span>Everything</span>
					</label>
					<div class="setting-description">Export all settings and profiles</div>

					<div>
						<label class="checkbox-group">
							<input type="checkbox" id="export-settings" checked disabled>
							<span>Settings</span>
						</label>

						<div id="export-profiles-list">
							<!-- Profile checkboxes will be inserted here -->
						</div>
					</div>
				</div>
			</div>
			<div class="modal-footer">
				<button id="export-modal-cancel" class="secondary-button">Cancel</button>
				<button id="export-modal-confirm" class="primary-button">Export</button>
			</div>
		</div>
	</div>

	<!-- Reset Confirmation Modal -->
	<div id="reset-modal" class="modal" style="display: none;">
		<div class="modal-content">
			<div class="modal-header">
				<h2>Reset to Defaults</h2>
			</div>
			<div class="modal-body">
				<p>Are you sure you want to reset to default tabs and settings? This will:</p>
				<ul style="margin: 12px 0; padding-left: 20px; line-height: 1.6;">
					<li>Remove all custom tabs</li>
					<li>Reset all settings to defaults</li>
					<li>Remove all profiles</li>
				</ul>
				<p><strong>This action cannot be undone.</strong></p>
			</div>
			<div class="modal-footer">
				<button id="reset-modal-cancel" class="secondary-button">Cancel</button>
				<button id="reset-modal-confirm" class="primary-button">Reset Everything</button>
			</div>
		</div>
	</div>

	<!-- Disable Profiles Modal -->
	<div id="disable-profiles-modal" class="modal" style="display: none;">
		<div class="modal-content">
			<div class="modal-header">
				<h2>Disable Profiles</h2>
			</div>
			<div class="modal-body">
				<p>Disabling profiles will keep one profile and remove all others.</p>
				<p>Which profile would you like to keep?</p>
				<div class="form-group">
					<label for="keep-profile-select">Select profile to keep:</label>
					<select id="keep-profile-select" class="clone-profile-select">
						<!-- Options populated dynamically by popup-profiles.js -->
					</select>
				</div>
			</div>
			<div class="modal-footer">
				<button id="disable-profiles-cancel-button" class="secondary-button">Cancel</button>
				<button id="disable-profiles-confirm-button" class="primary-button">Disable Profiles</button>
			</div>
		</div>
	</div>

	<!-- Load shared modules first -->
	<script src="js/shared/browser-compat.js"></script>
	<script src="js/shared/constants.js"></script>
	<script src="js/shared/utils.js"></script>
	<!-- Load storage modules for profiles support -->
	<script src="js/storage-chunking.js"></script>
	<script src="js/popup-storage.js"></script>
	<!-- Load profiles module for disable profiles modal -->
	<script src="js/popup-profiles.js"></script>
	<!-- Load settings page logic -->
	<script src="settings.js"></script>
</body>

</html>
